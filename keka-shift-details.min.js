function msToHMS(e){let o=e/1e3,t=parseInt(o/3600);o%=3600;let n=parseInt(o/60);return t+":"+n+":"+Math.round(o%=60)}function timeToMs(e){let o=e.split(":"),t=o[2]?1e3*o[2]:"";return 36e5*Number(o[0])+6e4*Number(o[1])+t}const myHeaders=new Headers,token=localStorage.getItem("access_token");myHeaders.append("authorization","Bearer "+token);const requestOptions={method:"GET",headers:myHeaders,redirect:"follow"};function getRemainingTime(e){let{shiftEffectiveDuration:o,breakDurationInHHMM:t,timeEntries:n}=e,{actualTimestamp:i,originalPunchStatus:r}=n[0];0!==r&&console.log("%cWaiting for keka to update punch status","background-color: #528FF0;color: #333;padding: 10px;font-size: 14px;");let $=new Date(i),a=new Date,l=a.getTime()-$.getTime(),s=timeToMs(t),c=o.toString().split(".");c[1]?1===c[1].length&&(c[1]+="0"):c[1]="0";let m=timeToMs(c.join(":")),d=m-(l-s),g=msToHMS(d);return{remaining:g,remainigMs:d}}fetch("https://yudiz.keka.com/k/api/mytime/attendance/summary",requestOptions).then(e=>e.json()).then(e=>{let{remaining:o,remainigMs:t}=getRemainingTime(e.slice(-1)[0]);t<0?(console.log("%c\uD83C\uDF89 Your 8 hours aleready completed! \uD83C\uDF89","background-color: yellow;color: #333;padding: 10px;font-size: 14px;",o),console.log("")):console.log("%cRemaining hours","background-color: yellow;color: #333;padding: 10px;font-size: 14px;",o)}).catch(e=>console.log("error",e));