function msToHMS(e){let t=e/1e3;const n=parseInt(t/3600);t%=3600;const i=parseInt(t/60);return t%=60,n+":"+i+":"+Math.round(t)}function timeToMs(e){const t=e.split(":"),n=t[2]?1e3*t[2]:"";return 60*Number(t[0])*60*1e3+60*Number(t[1])*1e3+n}function getRemainingTime(e){const{shiftEffectiveDuration:t,breakDurationInHHMM:n,timeEntries:i}=e,{actualTimestamp:a,originalPunchStatus:o}=i[0];0!==o&&console.log("%cWaiting for keka to update punch status","background-color: #528FF0;color: #333;padding: 10px;font-size: 14px;");const r=new Date(a),s=new Date,m=s.getTime()-r.getTime(),c=timeToMs(n),u=m-c,d=t.toString().split(".");d[1]?1===d[1].length&&(d[1]+="0"):d[1]="0";const h=timeToMs(d.join(":")),g=h-u,l=msToHMS(g),T=new Date(s.getTime()+g).toLocaleTimeString();return{remaining:l,remainigMs:g,shiftEndPredict:T,shiftStartTimeDateObj:r,breakDurationInHHMM:n,attendMs:u}}var kekaAPIheaders=new Headers;kekaAPIheaders.append("authorization","Bearer 43DBE6A0F54785888FDF93EA69D67EE96A0B59DCDA40091A894F45640AD27004");var requestOptions={method:"GET",headers:kekaAPIheaders,redirect:"follow"};fetch("https://yudiz.keka.com/k/api/mytime/attendance/summary",requestOptions).then(e=>e.json()).then(e=>{const{remaining:t,shiftStartTimeDateObj:n,breakDurationInHHMM:i,attendMs:a,shiftEndPredict:o}=getRemainingTime(e.slice(-1)[0]);console.table([{"Shift Start":n.toLocaleTimeString(),"Total Break":i,"Total Attend Time":msToHMS(a),"Remaining Time":t,"Shift End":o}])}).catch(e=>console.log("error",e));