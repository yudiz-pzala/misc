function S(t){let e=t/1e3;const n=parseInt(e/3600);e=e%3600;const i=parseInt(e/60);e=e%60;return n+":"+i+":"+Math.round(e)}function b(t){const e=t.split(":");const n=e[2]?e[2]*1e3:"";return Number(e[0])*60*60*1e3+Number(e[1])*60*1e3+n}var t=new Headers;var e=localStorage.getItem("access_token");if(!e){console.warn("missing storage access_token")}t.append("authorization","Bearer "+e);var n={method:"GET",headers:t,redirect:"follow"};fetch("https://yudiz.keka.com/k/api/mytime/attendance/summary",n).then(t=>t.json()).then(t=>{const{remaining:e,shiftStartTimeDateObj:n,breakDurationInHHMM:i,attendMs:a,shiftEndPredict:o,remainingBreakTime:r}=s(t.slice(-1)[0]);console.table([{"Shift Start":n.toLocaleTimeString(),"Total Break":i,"Remaining Break":r,"Total Attend Time":S(a),"Remaining Time":e,"Shift End":o}])}).catch(t=>console.log("error",t));function s(t){const{shiftEffectiveDuration:e,breakDurationInHHMM:n,timeEntries:i,shiftEndTime:a}=t;const{actualTimestamp:o,originalPunchStatus:r}=i[0];if(r!==0){console.log("%cWaiting for keka to update punch status","background-color: #528FF0;color: #333;padding: 10px;font-size: 14px;")}const s=new Date(o);const c=new Date;const m=c.getTime()-s.getTime();const g=b(n);const l=m-g;const u=e.toString().split(".");if(!u[1]){u[1]="0"}else if(u[1].length===1){u[1]+="0"}const d=b(u.join(":"));const f=d-l;const h=S(f);const T=new Date(c.getTime()+f);const k=T.toLocaleTimeString();const p=new Date(a);const D=p.getTime()-T.getTime();const M=S(D);return{remaining:h,remainigMs:f,shiftEndPredict:k,shiftStartTimeDateObj:s,breakDurationInHHMM:n,attendMs:l,remainingBreakTime:M}}